---
title: –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
prev: /tutorial/06-context
next: /tutorial/08-keys
solvable: true
---

# –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã ‚Äî —ç—Ç–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –¥–µ—Ä–µ–≤–µ Virtual DOM. –û–Ω–∏ –Ω–µ —Å–ª–µ–¥—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–æ–¥—Ö–æ–¥—É, –∑–∞–∫–ª—é—á–∞—é—â–µ–º—É—Å—è –≤ –ø—Ä–∏–µ–º–µ `props` –∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤–∞ Virtual DOM, –∏ —á–∞—Å—Ç–æ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –¥–µ—Ä–µ–≤–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–ª–∏ –≤—ã–∑–æ–≤–∞ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ API DOM. –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —Ç–∞–∫–∂–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–ø–æ—Å–æ–±–∞ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

### –≠—Ñ—Ñ–µ–∫—Ç—ã: –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–û–¥–∏–Ω –ø—Ä–∏–º–µ—Ä –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤ –¥–µ–π—Å—Ç–≤–∏–∏ –º—ã —É–∂–µ –≤–∏–¥–µ–ª–∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≥–ª–∞–≤–µ, –∫–æ–≥–¥–∞ –∏–∑—É—á–∞–ª–∏ —Ä–µ—Ñ—Å—Å—ã–ª–∫–∏ –∏ —Ö—É–∫ `useRef()`. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –Ω–∞—à ref –±—ã–ª –∑–∞–ø–æ–ª–Ω–µ–Ω —Å–≤–æ–π—Å—Ç–≤–æ–º `current`, —É–∫–∞–∑—ã–≤–∞—é—â–∏–º –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç DOM, –Ω–∞–º –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª—Å—è —Å–ø–æ—Å–æ–± ¬´–∑–∞–ø—É—Å–∫–∞¬ª –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç–µ–º –±—É–¥–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —ç—Ç–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º.

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–¥–∞ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ö—É–∫ `useEffect()`, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–±–æ—á–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```jsx
import { useRef, useEffect } from 'preact/hooks';

export default function App() {
  const input = useRef();

  // –∑–¥–µ—Å—å –æ–±—Ä–∞—Ç–Ω—ã–π –≤—ã–∑–æ–≤ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ <App>:
  useEffect(() => {
    // –¥–æ—Å—Ç—É–ø –∫ –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É DOM:
    input.current.focus();
  }, []);

  return <input ref={input} />;
}
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ `useEffect()`. –û–±—Ä–∞—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞ –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —ç—Ç–æ–º –º–∞—Å—Å–∏–≤–µ ¬´–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π¬ª –º–µ–Ω—è–µ—Ç—Å—è –æ—Ç –æ–¥–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫ –¥—Ä—É–≥–æ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤—Å–µ –æ–±—Ä–∞—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –º–∞—Å—Å–∏–≤–µ ¬´–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π¬ª –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.

–ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤ ¬´–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π¬ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏–π, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –û–±—ã—á–Ω–æ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (¬´—Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏¬ª).

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä:

```js
import { useEffect, useState } from 'preact/hooks';

export default function App() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    console.log('<App> —Ç–æ–ª—å–∫–æ —á—Ç–æ –±—ã–ª –≤–ø–µ—Ä–≤—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω');
  }, []);

  useEffect(() => {
    console.log('count value was changed to: ', count);
  }, [count]);
  //  ^ –í—ã–ø–æ–ª–Ω—è—Ç—å —ç—Ç–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `count`, –∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ

  return <button onClick={() => setCount(count + 1)}>{count}</button>;
}
```

### –ú–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞: –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ö–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, —Ä–µ–∞–ª–∏–∑—É—è –ª—é–±–æ–π –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö [–º–µ—Ç–æ–¥–æ–≤ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞][lifecycle methods], –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã—Ö Preact. –í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞:

| –ú–µ—Ç–æ–¥ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞      | –ö–æ–≥–¥–∞ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç:                                   |
| :-------------------------- | :--------------------------------------------------- |
| `componentWillMount`        | –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ |
| `componentDidMount`         | –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞                 |
| `componentWillReceiveProps` | –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞               |
| `componentDidUpdate`        | –ø–æ—Å–ª–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞               |

–û–¥–Ω–∏–º –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∞ –∑–∞—Ç–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏–∑ JSON API, –∞ –∑–∞—Ç–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

```jsx
import { Component } from 'preact';

export default class App extends Component {
  // –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
  componentDidMount() {
    // –ø–æ–ª—É—á–µ–Ω–∏–µ JSON –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `state.user`:
    fetch('/api/user')
      .then((response) => response.json())
      .then((user) => {
        this.setState({ user });
      });
  }

  render(props, state) {
    const { user } = state;

    // –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –µ—â—ë –Ω–µ –ø–æ–ª—É—á–µ–Ω—ã, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏:
    if (!user) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;

    // —É –Ω–∞—Å –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ! –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —á–µ—Ä–µ–∑ API:
    return (
      <div>
        <h2>–ü—Ä–∏–≤–µ—Ç, {user.username}!</h2>
      </div>
    );
  }
}
```

## –ü–æ–ø—Ä–æ–±—É–π—Ç–µ!

–ú—ã –Ω–µ –±—É–¥–µ–º —É—Å–ª–æ–∂–Ω—è—Ç—å —ç—Ç–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ: –∏–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ —Å–ø—Ä–∞–≤–∞, —á—Ç–æ–±—ã –ª–æ–≥ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–ª—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `count`, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ `<App>`.

<solution>
  <h4>üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h4>
  <p>–í—ã —É–∑–Ω–∞–ª–∏, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤ Preact.</p>
</solution>

```js:setup
useRealm(function (realm) {
  var win = realm.globalThis;
  var prevConsoleLog = win.console.log;
  win.console.log = function(m, s) {
    if (/–°—á—ë—Ç—á–∏–∫: /.test(m) && s === 1) {
      solutionCtx.setSolved(true);
    }
    return prevConsoleLog.apply(win.console, arguments);
  };

  return function () {
    win.console.log = prevConsoleLog;
  };
}, []);
```

```jsx:repl-initial
import { render } from 'preact';
import { useEffect, useState } from 'preact/hooks';

function App() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    console.log('–°—á—ë—Ç—á–∏–∫: ', count)
  }, []);
  // ^^ –Ω–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å!

  return <button onClick={() => setCount(count + 1)}>{count}</button>
}

render(<App />, document.getElementById("app"));
```

```jsx:repl-final
import { render } from 'preact';
import { useEffect, useState } from 'preact/hooks';

function App() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    console.log('–°—á—ë—Ç—á–∏–∫: ', count)
  }, [count]);
  // ^^ –Ω–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å!

  return <button onClick={() => setCount(count + 1)}>{count}</button>
}

render(<App />, document.getElementById("app"));
```

[lifecycle methods]: /guide/v10/components#lifecycle-methods
